# ğŸ¤– AI Textbook Reader

An intelligent textbook reading companion powered by AI. Read PDFs with real-time AI summaries, practice questions, contextual connections, and interactive chat.

![Status](https://img.shields.io/badge/status-MVP%20Ready-brightgreen)
![License](https://img.shields.io/badge/license-MIT-blue)

---

## âœ¨ Features

### ğŸ“– Smart Reading Experience
- **PDF Viewer** with zoom, navigation, and text selection
- **Real-time Notes** with auto-save and Markdown support
- **Keyboard Shortcuts** for efficient navigation (j/k for pages, n for notes)

### ğŸ§  AI-Powered Learning
- **Page Summaries** generated by local AI model
- **Key Concepts** extraction with explanations
- **Connections** between current and previous pages
- **Real-world Applications** of concepts
- **Practice Questions** tailored to your level
- **Interactive Chat** with GPT-4 for deep explanations

### ğŸ”’ Secure & Private
- **Whitelist Authentication** - control who has access
- **User Isolation** - each user sees only their data
- **Row-Level Security** via Supabase
- **No Public Signup** - invite-only by default

### ğŸ’¡ Smart Personalization
- Set your **learning goals** and AI adapts
- Choose experience level: beginner, intermediate, or advanced
- Customize summary style: concise, detailed, or bullet-points
- Define AI personality to match your learning style

---

## ğŸ—ï¸ Architecture

```
Frontend (React + Vite)
â”œâ”€ Authentication (Supabase Auth + Whitelist)
â”œâ”€ State Management (React Context)
â”œâ”€ UI Components (shadcn/ui + Radix UI)
â””â”€ Real-time Sync (Supabase Realtime)

Backend (Supabase)
â”œâ”€ PostgreSQL Database
â”‚  â”œâ”€ Users & Preferences
â”‚  â”œâ”€ Textbooks & Pages
â”‚  â”œâ”€ AI Processed Content
â”‚  â”œâ”€ User Notes
â”‚  â””â”€ Chat Conversations
â”œâ”€ Row-Level Security (RLS)
â””â”€ File Storage (PDFs)

AI Layer
â”œâ”€ Local Model (Ollama/Mistral)
â”‚  â”œâ”€ Page Summaries
â”‚  â”œâ”€ Key Concepts
â”‚  â”œâ”€ Applications
â”‚  â””â”€ Practice Questions
â””â”€ OpenAI GPT-4
   â””â”€ Interactive Chat

Deployment (Vercel)
â”œâ”€ Edge Functions (API routes)
â”œâ”€ Auto SSL
â””â”€ Global CDN
```

---

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- Supabase account
- OpenAI API key
- (Optional) Ollama for local AI

### 1. Clone & Install
```bash
cd "AI Textbook Reader Design"
npm install
```

### 2. Set Up Database
1. Create project at [supabase.com](https://supabase.com)
2. Run `supabase-schema.sql` in SQL Editor
3. Add your email to whitelist:
   ```sql
   INSERT INTO allowed_users (email, role) VALUES ('you@example.com', 'admin');
   ```

### 3. Configure Environment
Create `.env`:
```bash
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_KEY=your_service_key
OPENAI_API_KEY=sk-your-key
```

### 4. Run Locally
```bash
npm run dev
```

Open [http://localhost:5173](http://localhost:5173)

### 5. Deploy to Production
See [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) for complete instructions.

---

## ğŸ“š Usage

### Adding Textbooks
1. Upload PDF to Supabase Storage
2. Insert record in `textbooks` table
3. Extract pages with PDF parser
4. Process with local AI model

### Taking Notes
- Type directly in left panel
- Auto-saves every second
- Markdown supported
- Syncs across devices

### AI Features
- **Summaries** - Auto-generated on page load
- **Chat** - Ask questions about current page
- **Questions** - Practice to test understanding
- **Applications** - See real-world use cases

### Keyboard Shortcuts
- `j` - Next page
- `k` - Previous page
- `n` - Focus notes
- `r` - Regenerate AI content
- `Ctrl+S` - Save notes

---

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 18** - UI library
- **TypeScript** - Type safety
- **Vite** - Build tool & dev server
- **TailwindCSS** - Styling
- **shadcn/ui** - Component library
- **Radix UI** - Headless components
- **React Query** - Server state management
- **Sonner** - Toast notifications

### Backend
- **Supabase** - Backend as a Service
  - PostgreSQL database
  - Authentication
  - Real-time subscriptions
  - File storage
  - Row-Level Security

### AI/ML
- **Ollama** - Local LLM runtime
- **OpenAI API** - GPT-4 for chat
- **LangChain** (future) - RAG pipeline

### Deployment
- **Vercel** - Hosting & serverless functions
- **Edge Functions** - API routes
- **GitHub** - Version control

---

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ auth/           # Login, ProtectedRoute
â”‚   â”œâ”€â”€ ai-panels/      # Summary, Chat, Recall
â”‚   â”œâ”€â”€ ui/             # shadcn/ui components
â”‚   â”œâ”€â”€ MinimalHeader   # Top navigation
â”‚   â”œâ”€â”€ NotesPanel      # Left sidebar
â”‚   â”œâ”€â”€ PDFReader       # Center panel
â”‚   â””â”€â”€ MinimalAIPane   # Right sidebar
â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ AuthContext     # Authentication state
â”‚   â”œâ”€â”€ TextbookContext # Textbook & page data
â”‚   â”œâ”€â”€ NotesContext    # Notes management
â”‚   â””â”€â”€ ChatContext     # Chat messages
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase        # Supabase client
â”‚   â”œâ”€â”€ queryClient     # React Query config
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ prompts     # System prompts
â”‚       â””â”€â”€ localModel  # Local AI integration
â”œâ”€â”€ App.tsx             # Main app component
â””â”€â”€ main.tsx            # Entry point

api/
â”œâ”€â”€ chat.ts             # OpenAI chat endpoint
â””â”€â”€ process-page.ts     # Trigger AI processing

supabase-schema.sql     # Database schema
vercel.json             # Vercel config
DEPLOYMENT_GUIDE.md     # Step-by-step deployment
```

---

## ğŸ” Security

- âœ… **Row-Level Security** - Users can only see their data
- âœ… **Whitelist Auth** - No public signups
- âœ… **API Key Protection** - Server-side keys never exposed
- âœ… **HTTPS Only** - Auto SSL via Vercel
- âœ… **Input Validation** - All user inputs sanitized

---

## ğŸ’° Cost Breakdown (10 users)

| Service | Free Tier | Paid (if needed) |
|---------|-----------|------------------|
| Supabase | 500MB DB, 1GB storage | $25/mo |
| Vercel | 100GB bandwidth | $20/mo |
| OpenAI | Pay per use | ~$10-30/mo |
| Ollama | Free (self-hosted) | - |
| **Total** | **~$0-10/mo** | **~$55-75/mo** |

---

## ğŸ—ºï¸ Roadmap

### MVP (Current)
- [x] Authentication with whitelist
- [x] PDF reading with notes
- [x] AI summaries & key concepts
- [x] Interactive chat
- [x] Vercel deployment

### v1.1 (Next)
- [ ] Real PDF.js rendering (not just text)
- [ ] Batch PDF upload & processing
- [ ] Search across textbook
- [ ] Export notes as Markdown/PDF
- [ ] User preferences UI

### v1.2 (Future)
- [ ] Collaborative notes (share with friends)
- [ ] Spaced repetition flashcards
- [ ] Progress tracking & analytics
- [ ] Mobile app (React Native)
- [ ] Voice chat with AI

### v2.0 (Advanced)
- [ ] RAG with vector embeddings
- [ ] Multi-document cross-references
- [ ] AI tutor sessions (scheduled)
- [ ] Subscription tiers & payments
- [ ] Admin dashboard

---

## ğŸ¤ Contributing

Currently in MVP phase. If you'd like to contribute:

1. Fork the repository
2. Create feature branch: `git checkout -b feature-name`
3. Commit changes: `git commit -m 'Add feature'`
4. Push to branch: `git push origin feature-name`
5. Open a Pull Request

---

## ğŸ“„ License

MIT License - feel free to use for personal or commercial projects.

---

## ğŸ™ Acknowledgments

Built with:
- [Supabase](https://supabase.com) - Backend infrastructure
- [Vercel](https://vercel.com) - Deployment platform
- [OpenAI](https://openai.com) - GPT-4 API
- [Ollama](https://ollama.ai) - Local LLM runtime
- [shadcn/ui](https://ui.shadcn.com) - Component library
- [Radix UI](https://radix-ui.com) - Headless UI primitives

Originally designed in Figma, converted to production-ready React app.

---

## ğŸ“ Support

Need help?
- Review [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)
- Check browser console for errors
- Verify environment variables
- Test API endpoints individually

---

**Built with â¤ï¸ for learners who want AI-powered reading experiences.**

*Transform your textbook reading from passive to active learning.*
